{
  "version": "2.0",
  "description": "Enhanced action schema for Todowa AI agent tools system with comprehensive task management, smart categorization, and performance monitoring",
  "categories": [
    "tasks",
    "reminders", 
    "categories",
    "analytics",
    "utilities"
  ],
  "actions": {
    "create_task": {
      "description": "Create a new task with comprehensive details and smart categorization",
      "category": "tasks",
      "auto_inject": ["supabase", "user_id"],
      "parameters": {
        "title": {
          "type": "string",
          "required": true,
          "description": "Task title"
        },
        "description": {
          "type": "string",
          "required": false,
          "description": "Detailed description",
          "default": ""
        },
        "priority": {
          "type": "string",
          "required": false,
          "description": "Task priority level",
          "enum": ["low", "medium", "high", "urgent"],
          "default": "medium"
        },
        "due_date": {
          "type": "string",
          "required": false,
          "description": "Due date in ISO format (YYYY-MM-DD)",
          "format": "date"
        },
        "category": {
          "type": "string",
          "required": false,
          "description": "Task category (auto-categorized if 'general')",
          "default": "general"
        }
      },
      "returns": {
        "success": "boolean",
        "data": "object"
      }
    },
    "get_tasks": {
      "description": "Retrieve tasks with comprehensive filtering options",
      "category": "tasks",
      "auto_inject": ["supabase", "user_id"],
      "parameters": {
        "status": {
          "type": "string",
          "required": false,
          "description": "Filter by task status",
          "enum": ["pending", "in_progress", "completed", "cancelled"]
        },
        "priority": {
          "type": "string",
          "required": false,
          "description": "Filter by priority level",
          "enum": ["low", "medium", "high", "urgent"]
        },
        "category": {
          "type": "string",
          "required": false,
          "description": "Filter by category"
        },
        "due_before": {
          "type": "string",
          "required": false,
          "description": "Filter tasks due before this date (ISO format)",
          "format": "date"
        },
        "limit": {
          "type": "integer",
          "required": false,
          "description": "Maximum number of tasks to return",
          "default": 50,
          "minimum": 1,
          "maximum": 1000
        }
      },
      "returns": {
        "success": "boolean",
        "data": "array",
        "count": "integer"
      }
    },
    "update_task": {
      "description": "Update an existing task with new information",
      "category": "tasks",
      "auto_inject": ["supabase", "user_id"],
      "parameters": {
        "task_id": {
          "type": "integer",
          "required": true,
          "description": "ID of the task to update"
        },
        "title": {
          "type": "string",
          "required": false,
          "description": "New title"
        },
        "description": {
          "type": "string",
          "required": false,
          "description": "New description"
        },
        "status": {
          "type": "string",
          "required": false,
          "description": "New status",
          "enum": ["pending", "in_progress", "completed", "cancelled"]
        },
        "priority": {
          "type": "string",
          "required": false,
          "description": "New priority",
          "enum": ["low", "medium", "high", "urgent"]
        },
        "due_date": {
          "type": "string",
          "required": false,
          "description": "New due date (ISO format)",
          "format": "date"
        },
        "category": {
          "type": "string",
          "required": false,
          "description": "New category"
        }
      },
      "returns": {
        "success": "boolean",
        "data": "object"
      }
    },
    "delete_task": {
      "description": "Delete a task permanently",
      "category": "tasks",
      "auto_inject": ["supabase", "user_id"],
      "parameters": {
        "task_id": {
          "type": "integer",
          "required": true,
          "description": "ID of the task to delete"
        }
      },
      "returns": {
        "success": "boolean",
        "message": "string"
      }
    },
    "create_reminder": {
      "description": "Create a reminder with smart task creation",
      "category": "reminders",
      "auto_inject": ["supabase", "user_id"],
      "smart_features": ["auto_task_creation"],
      "parameters": {
        "title": {
          "type": "string",
          "required": true,
          "description": "Reminder title"
        },
        "remind_at": {
          "type": "string",
          "required": true,
          "description": "When to remind (ISO format datetime)",
          "format": "date-time"
        },
        "description": {
          "type": "string",
          "required": false,
          "description": "Additional details",
          "default": ""
        },
        "task_id": {
          "type": "integer",
          "required": false,
          "description": "Link to existing task (auto-creates if not provided)"
        }
      },
      "returns": {
        "success": "boolean",
        "data": "object"
      }
    },
    "get_reminders": {
      "description": "Get reminders with filtering options",
      "category": "reminders",
      "auto_inject": ["supabase", "user_id"],
      "parameters": {
        "is_sent": {
          "type": "boolean",
          "required": false,
          "description": "Filter by sent status"
        },
        "task_id": {
          "type": "integer",
          "required": false,
          "description": "Filter by specific task"
        },
        "remind_before": {
          "type": "string",
          "required": false,
          "description": "Filter reminders due before this datetime",
          "format": "date-time"
        },
        "limit": {
          "type": "integer",
          "required": false,
          "description": "Maximum number of reminders to return",
          "default": 50,
          "minimum": 1,
          "maximum": 1000
        }
      },
      "returns": {
        "success": "boolean",
        "data": "array",
        "count": "integer"
      }
    },
    "create_category": {
      "description": "Create a new category for organizing tasks",
      "category": "categories",
      "auto_inject": ["supabase", "user_id"],
      "parameters": {
        "name": {
          "type": "string",
          "required": true,
          "description": "Category name"
        },
        "description": {
          "type": "string",
          "required": false,
          "description": "Category description",
          "default": ""
        },
        "color": {
          "type": "string",
          "required": false,
          "description": "Hex color code for the category",
          "default": "#3B82F6",
          "pattern": "^#[0-9A-Fa-f]{6}$"
        }
      },
      "returns": {
        "success": "boolean",
        "data": "object"
      }
    },
    "get_categories": {
      "description": "Retrieve all categories for the user",
      "category": "categories",
      "auto_inject": ["supabase", "user_id"],
      "parameters": {},
      "returns": {
        "success": "boolean",
        "data": "array",
        "count": "integer"
      }
    },
    "get_task_analytics": {
      "description": "Generate comprehensive task analytics",
      "category": "analytics",
      "auto_inject": ["supabase", "user_id"],
      "parameters": {
        "days": {
          "type": "integer",
          "required": false,
          "description": "Number of days to analyze",
          "default": 30,
          "minimum": 1,
          "maximum": 365
        }
      },
      "returns": {
        "success": "boolean",
        "data": {
          "period": "string",
          "total_tasks": "integer",
          "completed_tasks": "integer",
          "pending_tasks": "integer",
          "in_progress_tasks": "integer",
          "completion_rate": "number",
          "priority_distribution": "object",
          "category_distribution": "object",
          "generated_at": "string"
        }
      }
    },
    "validate_cron_expression": {
      "description": "Validate a cron expression and provide next execution times",
      "category": "utilities",
      "parameters": {
        "cron_expr": {
          "type": "string",
          "required": true,
          "description": "Cron expression to validate (e.g., '0 9 * * MON-FRI')"
        }
      },
      "returns": {
        "success": "boolean",
        "valid": "boolean",
        "next_executions": "array",
        "message": "string",
        "error": "string"
      }
    }
  },
  "enhanced_features": {
    "automatic_parameter_injection": {
      "description": "Common parameters like 'supabase' and 'user_id' are automatically injected into tool functions",
      "supported_parameters": ["supabase", "user_id"]
    },
    "smart_categorization": {
      "description": "Tasks are automatically categorized based on keywords when category is 'general'",
      "categories": {
        "work": ["meeting", "project", "deadline", "report", "presentation", "client", "team", "office"],
        "personal": ["shopping", "grocery", "family", "friend", "birthday", "anniversary", "vacation"],
        "health": ["doctor", "appointment", "exercise", "gym", "medication", "checkup", "health"],
        "finance": ["bank", "payment", "bill", "tax", "budget", "money", "invoice", "insurance"],
        "home": ["clean", "repair", "maintenance", "garden", "organize", "decorate"],
        "learning": ["study", "course", "book", "tutorial", "lesson", "practice", "exam"]
      }
    },
    "performance_monitoring": {
      "description": "All tool executions are monitored for performance metrics",
      "metrics": [
        "execution_count",
        "total_execution_time",
        "success_count",
        "error_count",
        "last_execution",
        "average_execution_time",
        "success_rate"
      ]
    },
    "smart_task_reminder_integration": {
      "description": "When creating reminders without task_id, tasks are automatically created",
      "behavior": "auto_create_task"
    }
  },
  "response_format": {
    "success_response": {
      "success": true,
      "data": "object|array"
    },
    "error_response": {
      "success": false,
      "error": "string"
    }
  },
  "error_types": [
    "database_connection_failure",
    "invalid_parameters",
    "permission_denied",
    "resource_not_found",
    "validation_error"
  ]
}
